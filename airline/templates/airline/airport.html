{% extends "airline/index.html" %}
{% block content %}
<div class="map">{{ map|safe }}</div>
<header>
   <h1 class="text-center m-4 banner-text">
      All flight registered for {{airport}} 
   </h1>
</header>
{% if airport.arrival_routes.all %}
<h2 class="p-3 fw-bold text-shadow bg-light text-dark text-center border border-dark col-8 mx-auto w-100">Flight to {{airport}}:</h2>
<section class="d-flex flex-wrap justify-content-center">
   {% for route in airport.arrival_routes.all|dictsort:"id" %}
   <div class="card m-3 col-4" style="width: 18rem;">
      <div class="card-header text-center">
         <h3> 
            <a class="link-dark" href="{{route.start.airport_id}}">{{route.start.city}} in {{route.start.country}}</a>
         </h3>
      </div>
      <div class="card-body d-flex flex-wrap justify-content-center align-items-center">
         {% for flight in route.flights.all|dictsort:"date" %}
         <div class="text-center col-12 mt-2">
            <a class="btn btn-success" href=/airline/flight/{{flight.id}}>{{ flight.date|date:"h:i - d/m/Y" }}</a>
         </div>
         {% endfor %}
      </div>
   </div>
   {% endfor %}
</section>
{% endif %}
{% if airport.departure_routes.all %}
<h2 class="p-3 mt-5 fw-bold text-shadow bg-light text-dark text-center border border-dark col-8 mx-auto w-100">
   Flight from {{airport}}:
</h2>
<section class="d-flex flex-wrap justify-content-center">
   {% for route in airport.departure_routes.all|dictsort:"id" %}
   <div class="card m-3 col-4" style="width: 18rem;">
      <div class="card-header text-center">
         <h3>
            <a class="link-dark" href="{{route.destination.airport_id}}">{{route.destination.city}} in {{route.destination.country}}</a>
         </h3>
      </div>
      <div class="card-body d-flex flex-wrap justify-content-center align-items-center">
         {% for flight in route.flights.all|dictsort:"date" %}
         <div class="text-center col-12 mt-2">
            <a class="btn btn-success" href=/airline/flight/{{flight.id}}>{{ flight.date|date:"h:i - d/m/Y" }}</a>
         </div>
         {% endfor %}
      </div>
   </div>
   {% endfor %}
</section>
{% endif %}
{% endblock %}
