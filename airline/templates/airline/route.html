{% extends "airline/index.html" %}
{% block content %}
<div class="map">{{ map|safe }}</div>
<div class="p-3 bg-info text-white text-center airport-main background " >
    <h1 class="airport-title banner-text">
        Flights from: <a class="airport-link" href="/airline/airport/{{route.start.airport_id}}">{{route.start}}</a>
        to: <a class="airport-link" href="/airline/airport/{{route.destination.airport_id}}">{{route.destination}}</a>
    </h1>
    <div class="shadow-lg p-3 mb-5 bg-white rounded airport-border">  
        <table class="table table-striped table-secondary table-bordered shadow-lg p-3 mb-5 bg-white rounded align-middle">
            <thead>
                <div class="p-3 mt-0 bg-light text-dark text-center border border-dark">
                    <h2>All of the flights on "Route {{route.id}}":</h2>
                </div>
                <tr> 
                    <th>Flight ID: </th>
                    <th>Date: </th>
                    <th>Number of passengers </th>
                </tr>
            </thead>
            <tbody class="text-left">
                    {% for fli in route.flights.all|dictsort:"date" %}
                        <tr>
                            <td ><a href="/airline/flight/{{fli.id}}">{{fli.id}}</a></td>
                            <td >{{fli.date}}</td>
                            <td >{{ fli.passengers.all|length }}</td>
                        </tr>
                    {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}